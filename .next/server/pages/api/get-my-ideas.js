"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/get-my-ideas";
exports.ids = ["pages/api/get-my-ideas"];
exports.modules = {

/***/ "@clerk/nextjs/server":
/*!***************************************!*\
  !*** external "@clerk/nextjs/server" ***!
  \***************************************/
/***/ ((module) => {

module.exports = require("@clerk/nextjs/server");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "firebase/app":
/*!*******************************!*\
  !*** external "firebase/app" ***!
  \*******************************/
/***/ ((module) => {

module.exports = import("firebase/app");;

/***/ }),

/***/ "firebase/firestore":
/*!*************************************!*\
  !*** external "firebase/firestore" ***!
  \*************************************/
/***/ ((module) => {

module.exports = import("firebase/firestore");;

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-my-ideas&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-my-ideas.js&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-my-ideas&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-my-ideas.js&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_get_my_ideas_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/get-my-ideas.js */ \"(api)/./pages/api/get-my-ideas.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_get_my_ideas_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_get_my_ideas_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_get_my_ideas_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_get_my_ideas_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/get-my-ideas\",\n        pathname: \"/api/get-my-ideas\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_get_my_ideas_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmdldC1teS1pZGVhcyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGZ2V0LW15LWlkZWFzLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3dEO0FBQ3hEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx1REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsdURBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RhcnR1cC1pZGVhLWdlbmVyYXRvci8/YTMxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL2dldC1teS1pZGVhcy5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2dldC1teS1pZGVhc1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dldC1teS1pZGVhc1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-my-ideas&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-my-ideas.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/database.js":
/*!*************************!*\
  !*** ./lib/database.js ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addTokens: () => (/* binding */ addTokens),\n/* harmony export */   deleteStartupIdea: () => (/* binding */ deleteStartupIdea),\n/* harmony export */   getContentIdeas: () => (/* binding */ getContentIdeas),\n/* harmony export */   getMVPImplementations: () => (/* binding */ getMVPImplementations),\n/* harmony export */   getSEOStrategies: () => (/* binding */ getSEOStrategies),\n/* harmony export */   getStartupIdea: () => (/* binding */ getStartupIdea),\n/* harmony export */   getUsageCount: () => (/* binding */ getUsageCount),\n/* harmony export */   getUserStartupIdeas: () => (/* binding */ getUserStartupIdeas),\n/* harmony export */   getUserTokens: () => (/* binding */ getUserTokens),\n/* harmony export */   saveContentIdeas: () => (/* binding */ saveContentIdeas),\n/* harmony export */   saveMVPImplementation: () => (/* binding */ saveMVPImplementation),\n/* harmony export */   saveSEOStrategies: () => (/* binding */ saveSEOStrategies),\n/* harmony export */   saveStartupIdea: () => (/* binding */ saveStartupIdea),\n/* harmony export */   saveTokenPurchase: () => (/* binding */ saveTokenPurchase),\n/* harmony export */   saveUsageCount: () => (/* binding */ saveUsageCount),\n/* harmony export */   updateStartupIdea: () => (/* binding */ updateStartupIdea),\n/* harmony export */   useTokens: () => (/* binding */ useTokens)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase */ \"(api)/./lib/firebase.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _firebase__WEBPACK_IMPORTED_MODULE_1__]);\n([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, _firebase__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n// Startup idea'larını kaydetme\nconst saveStartupIdea = async (userId, ideaData)=>{\n    try {\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"startup-ideas\"), {\n            userId,\n            ...ideaData,\n            createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now(),\n            updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n        return docRef.id;\n    } catch (error) {\n        console.error(\"Error saving startup idea:\", error);\n        throw error;\n    }\n};\n// Kullanıcının startup idea'larını getirme\nconst getUserStartupIdeas = async (userId)=>{\n    try {\n        // Geçici çözüm: orderBy olmadan query (index oluşturulana kadar)\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"startup-ideas\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        const ideas = querySnapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n        // Client-side sorting by createdAt\n        return ideas.sort((a, b)=>{\n            const aTime = a.createdAt?.seconds || 0;\n            const bTime = b.createdAt?.seconds || 0;\n            return bTime - aTime;\n        });\n    } catch (error) {\n        console.error(\"Error getting user startup ideas:\", error);\n        throw error;\n    }\n};\n// Tek bir startup idea'yı getirme\nconst getStartupIdea = async (ideaId)=>{\n    try {\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"startup-ideas\", ideaId);\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        if (docSnap.exists()) {\n            return {\n                id: docSnap.id,\n                ...docSnap.data()\n            };\n        } else {\n            return null;\n        }\n    } catch (error) {\n        console.error(\"Error getting startup idea:\", error);\n        throw error;\n    }\n};\n// Startup idea'yı güncelleme\nconst updateStartupIdea = async (ideaId, updateData)=>{\n    try {\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"startup-ideas\", ideaId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            ...updateData,\n            updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n    } catch (error) {\n        console.error(\"Error updating startup idea:\", error);\n        throw error;\n    }\n};\n// Startup idea'yı silme\nconst deleteStartupIdea = async (ideaId)=>{\n    try {\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"startup-ideas\", ideaId));\n    } catch (error) {\n        console.error(\"Error deleting startup idea:\", error);\n        throw error;\n    }\n};\n// MVP Implementation kaydetme\nconst saveMVPImplementation = async (ideaId, userId, mvpData)=>{\n    try {\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"mvp-implementations\"), {\n            ideaId,\n            userId,\n            mvpImplementations: mvpData,\n            approved: true,\n            createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now(),\n            updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n        return docRef.id;\n    } catch (error) {\n        console.error(\"Error saving MVP implementation:\", error);\n        throw error;\n    }\n};\n// Content Ideas kaydetme\nconst saveContentIdeas = async (ideaId, userId, contentData)=>{\n    try {\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"content-ideas\"), {\n            ideaId,\n            userId,\n            contentIdeas: contentData,\n            approved: true,\n            createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now(),\n            updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n        return docRef.id;\n    } catch (error) {\n        console.error(\"Error saving content ideas:\", error);\n        throw error;\n    }\n};\n// SEO Strategies kaydetme\nconst saveSEOStrategies = async (ideaId, userId, seoData)=>{\n    try {\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"seo-strategies\"), {\n            ideaId,\n            userId,\n            seoStrategies: seoData,\n            approved: true,\n            createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now(),\n            updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n        return docRef.id;\n    } catch (error) {\n        console.error(\"Error saving SEO strategies:\", error);\n        throw error;\n    }\n};\n// Idea'ya ait MVP implementations getirme\nconst getMVPImplementations = async (ideaId)=>{\n    try {\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"mvp-implementations\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"ideaId\", \"==\", ideaId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"approved\", \"==\", true));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return querySnapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            })).sort((a, b)=>{\n            const aTime = a.createdAt?.seconds || 0;\n            const bTime = b.createdAt?.seconds || 0;\n            return bTime - aTime;\n        });\n    } catch (error) {\n        console.error(\"Error getting MVP implementations:\", error);\n        throw error;\n    }\n};\n// Idea'ya ait content ideas getirme\nconst getContentIdeas = async (ideaId)=>{\n    try {\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"content-ideas\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"ideaId\", \"==\", ideaId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"approved\", \"==\", true));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return querySnapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            })).sort((a, b)=>{\n            const aTime = a.createdAt?.seconds || 0;\n            const bTime = b.createdAt?.seconds || 0;\n            return bTime - aTime;\n        });\n    } catch (error) {\n        console.error(\"Error getting content ideas:\", error);\n        throw error;\n    }\n};\n// Idea'ya ait SEO strategies getirme\nconst getSEOStrategies = async (ideaId)=>{\n    try {\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"seo-strategies\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"ideaId\", \"==\", ideaId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"approved\", \"==\", true));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        return querySnapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            })).sort((a, b)=>{\n            const aTime = a.createdAt?.seconds || 0;\n            const bTime = b.createdAt?.seconds || 0;\n            return bTime - aTime;\n        });\n    } catch (error) {\n        console.error(\"Error getting SEO strategies:\", error);\n        throw error;\n    }\n};\n// Kullanım sayısını kaydetme (simple generator için)\nconst saveUsageCount = async (sessionId, count)=>{\n    try {\n        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"usage-counts\", sessionId);\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n            count,\n            lastUsed: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        }).catch(async ()=>{\n            // Eğer document yoksa oluştur\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"usage-counts\"), {\n                sessionId,\n                count,\n                lastUsed: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now(),\n                createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n            });\n        });\n    } catch (error) {\n        console.error(\"Error saving usage count:\", error);\n        throw error;\n    }\n};\n// Kullanım sayısını getirme\nconst getUsageCount = async (sessionId)=>{\n    try {\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"usage-counts\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"sessionId\", \"==\", sessionId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(1));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        if (!querySnapshot.empty) {\n            return querySnapshot.docs[0].data().count || 0;\n        }\n        return 0;\n    } catch (error) {\n        console.error(\"Error getting usage count:\", error);\n        return 0;\n    }\n};\n// Token sistemi fonksiyonları\n// Kullanıcının token bakiyesini getirme\nconst getUserTokens = async (userId)=>{\n    try {\n        // Önce kullanıcının token'larını ara\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"user-tokens\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(1));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        if (!querySnapshot.empty) {\n            return querySnapshot.docs[0].data().tokens || 0;\n        } else {\n            // İlk kez kullanıcı için 10 ücretsiz token ver\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"user-tokens\"), {\n                userId,\n                tokens: 10,\n                createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now(),\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n            });\n            return 10;\n        }\n    } catch (error) {\n        console.error(\"Error getting user tokens:\", error);\n        return 0;\n    }\n};\n// Token kullanımı (düşürme)\nconst useTokens = async (userId, amount)=>{\n    try {\n        // Önce kullanıcının token'larını al\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"user-tokens\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(1));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        if (!querySnapshot.empty) {\n            const docRef = querySnapshot.docs[0].ref;\n            const currentTokens = querySnapshot.docs[0].data().tokens || 0;\n            if (currentTokens >= amount) {\n                await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n                    tokens: currentTokens - amount,\n                    updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n                });\n                return true;\n            } else {\n                return false; // Yetersiz token\n            }\n        } else {\n            return false; // Kullanıcı bulunamadı\n        }\n    } catch (error) {\n        console.error(\"Error using tokens:\", error);\n        return false;\n    }\n};\n// Token ekleme (satın alma sonrası)\nconst addTokens = async (userId, amount)=>{\n    try {\n        // Önce kullanıcının mevcut token'larını bul\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"user-tokens\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"userId\", \"==\", userId), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.limit)(1));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        if (!querySnapshot.empty) {\n            const docRef = querySnapshot.docs[0].ref;\n            const currentTokens = querySnapshot.docs[0].data().tokens || 0;\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, {\n                tokens: currentTokens + amount,\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n            });\n        } else {\n            // Kullanıcı yoksa yeni kayıt oluştur\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"user-tokens\"), {\n                userId,\n                tokens: amount,\n                createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now(),\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n            });\n        }\n    } catch (error) {\n        console.error(\"Error adding tokens:\", error);\n        throw error;\n    }\n};\n// Token satın alma geçmişi kaydetme\nconst saveTokenPurchase = async (userId, purchaseData)=>{\n    try {\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, \"token-purchases\"), {\n            userId,\n            ...purchaseData,\n            createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.now()\n        });\n        return docRef.id;\n    } catch (error) {\n        console.error(\"Error saving token purchase:\", error);\n        throw error;\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxJQUFJO1FBQ0YsTUFBTXZELFNBQVMsTUFBTWYsMERBQU1BLENBQUNELDhEQUFVQSxDQUFDWSx5Q0FBRUEsRUFBRSxvQkFBb0I7WUFDN0RFO1lBQ0EsR0FBR3lELFlBQVk7WUFDZnRELFdBQVdOLHlEQUFTQSxDQUFDTyxHQUFHO1FBQzFCO1FBQ0EsT0FBT0YsT0FBT0ksRUFBRTtJQUNsQixFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMsTUFBTUE7SUFDUjtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGFydHVwLWlkZWEtZ2VuZXJhdG9yLy4vbGliL2RhdGFiYXNlLmpzP2VlYTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgXG4gIGNvbGxlY3Rpb24sIFxuICBhZGREb2MsIFxuICBnZXREb2NzLCBcbiAgZG9jLCBcbiAgZ2V0RG9jLCBcbiAgdXBkYXRlRG9jLCBcbiAgZGVsZXRlRG9jLFxuICBxdWVyeSxcbiAgd2hlcmUsXG4gIG9yZGVyQnksXG4gIGxpbWl0LFxuICBUaW1lc3RhbXAgXG59IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5pbXBvcnQgeyBkYiB9IGZyb20gJy4vZmlyZWJhc2UnO1xuXG4vLyBTdGFydHVwIGlkZWEnbGFyxLFuxLEga2F5ZGV0bWVcbmV4cG9ydCBjb25zdCBzYXZlU3RhcnR1cElkZWEgPSBhc3luYyAodXNlcklkLCBpZGVhRGF0YSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGRvY1JlZiA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCAnc3RhcnR1cC1pZGVhcycpLCB7XG4gICAgICB1c2VySWQsXG4gICAgICAuLi5pZGVhRGF0YSxcbiAgICAgIGNyZWF0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxuICAgICAgdXBkYXRlZEF0OiBUaW1lc3RhbXAubm93KClcbiAgICB9KTtcbiAgICByZXR1cm4gZG9jUmVmLmlkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBzdGFydHVwIGlkZWE6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vLyBLdWxsYW7EsWPEsW7EsW4gc3RhcnR1cCBpZGVhJ2xhcsSxbsSxIGdldGlybWVcbmV4cG9ydCBjb25zdCBnZXRVc2VyU3RhcnR1cElkZWFzID0gYXN5bmMgKHVzZXJJZCkgPT4ge1xuICB0cnkge1xuICAgIC8vIEdlw6dpY2kgw6fDtnrDvG06IG9yZGVyQnkgb2xtYWRhbiBxdWVyeSAoaW5kZXggb2x1xZ90dXJ1bGFuYSBrYWRhcilcbiAgICBjb25zdCBxID0gcXVlcnkoXG4gICAgICBjb2xsZWN0aW9uKGRiLCAnc3RhcnR1cC1pZGVhcycpLFxuICAgICAgd2hlcmUoJ3VzZXJJZCcsICc9PScsIHVzZXJJZClcbiAgICApO1xuICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgIGNvbnN0IGlkZWFzID0gcXVlcnlTbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcbiAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAuLi5kb2MuZGF0YSgpXG4gICAgfSkpO1xuICAgIFxuICAgIC8vIENsaWVudC1zaWRlIHNvcnRpbmcgYnkgY3JlYXRlZEF0XG4gICAgcmV0dXJuIGlkZWFzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IGFUaW1lID0gYS5jcmVhdGVkQXQ/LnNlY29uZHMgfHwgMDtcbiAgICAgIGNvbnN0IGJUaW1lID0gYi5jcmVhdGVkQXQ/LnNlY29uZHMgfHwgMDtcbiAgICAgIHJldHVybiBiVGltZSAtIGFUaW1lO1xuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgdXNlciBzdGFydHVwIGlkZWFzOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8gVGVrIGJpciBzdGFydHVwIGlkZWEnecSxIGdldGlybWVcbmV4cG9ydCBjb25zdCBnZXRTdGFydHVwSWRlYSA9IGFzeW5jIChpZGVhSWQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsICdzdGFydHVwLWlkZWFzJywgaWRlYUlkKTtcbiAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRvY1JlZik7XG4gICAgXG4gICAgaWYgKGRvY1NuYXAuZXhpc3RzKCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBkb2NTbmFwLmlkLFxuICAgICAgICAuLi5kb2NTbmFwLmRhdGEoKVxuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgc3RhcnR1cCBpZGVhOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8gU3RhcnR1cCBpZGVhJ3nEsSBnw7xuY2VsbGVtZVxuZXhwb3J0IGNvbnN0IHVwZGF0ZVN0YXJ0dXBJZGVhID0gYXN5bmMgKGlkZWFJZCwgdXBkYXRlRGF0YSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgJ3N0YXJ0dXAtaWRlYXMnLCBpZGVhSWQpO1xuICAgIGF3YWl0IHVwZGF0ZURvYyhkb2NSZWYsIHtcbiAgICAgIC4uLnVwZGF0ZURhdGEsXG4gICAgICB1cGRhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHN0YXJ0dXAgaWRlYTonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIFN0YXJ0dXAgaWRlYSd5xLEgc2lsbWVcbmV4cG9ydCBjb25zdCBkZWxldGVTdGFydHVwSWRlYSA9IGFzeW5jIChpZGVhSWQpID0+IHtcbiAgdHJ5IHtcbiAgICBhd2FpdCBkZWxldGVEb2MoZG9jKGRiLCAnc3RhcnR1cC1pZGVhcycsIGlkZWFJZCkpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIHN0YXJ0dXAgaWRlYTonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIE1WUCBJbXBsZW1lbnRhdGlvbiBrYXlkZXRtZVxuZXhwb3J0IGNvbnN0IHNhdmVNVlBJbXBsZW1lbnRhdGlvbiA9IGFzeW5jIChpZGVhSWQsIHVzZXJJZCwgbXZwRGF0YSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGRvY1JlZiA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGRiLCAnbXZwLWltcGxlbWVudGF0aW9ucycpLCB7XG4gICAgICBpZGVhSWQsXG4gICAgICB1c2VySWQsXG4gICAgICBtdnBJbXBsZW1lbnRhdGlvbnM6IG12cERhdGEsXG4gICAgICBhcHByb3ZlZDogdHJ1ZSxcbiAgICAgIGNyZWF0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxuICAgICAgdXBkYXRlZEF0OiBUaW1lc3RhbXAubm93KClcbiAgICB9KTtcbiAgICByZXR1cm4gZG9jUmVmLmlkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBNVlAgaW1wbGVtZW50YXRpb246JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vLyBDb250ZW50IElkZWFzIGtheWRldG1lXG5leHBvcnQgY29uc3Qgc2F2ZUNvbnRlbnRJZGVhcyA9IGFzeW5jIChpZGVhSWQsIHVzZXJJZCwgY29udGVudERhdGEpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkb2NSZWYgPSBhd2FpdCBhZGREb2MoY29sbGVjdGlvbihkYiwgJ2NvbnRlbnQtaWRlYXMnKSwge1xuICAgICAgaWRlYUlkLFxuICAgICAgdXNlcklkLFxuICAgICAgY29udGVudElkZWFzOiBjb250ZW50RGF0YSxcbiAgICAgIGFwcHJvdmVkOiB0cnVlLFxuICAgICAgY3JlYXRlZEF0OiBUaW1lc3RhbXAubm93KCksXG4gICAgICB1cGRhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKVxuICAgIH0pO1xuICAgIHJldHVybiBkb2NSZWYuaWQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGNvbnRlbnQgaWRlYXM6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vLyBTRU8gU3RyYXRlZ2llcyBrYXlkZXRtZVxuZXhwb3J0IGNvbnN0IHNhdmVTRU9TdHJhdGVnaWVzID0gYXN5bmMgKGlkZWFJZCwgdXNlcklkLCBzZW9EYXRhKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZG9jUmVmID0gYXdhaXQgYWRkRG9jKGNvbGxlY3Rpb24oZGIsICdzZW8tc3RyYXRlZ2llcycpLCB7XG4gICAgICBpZGVhSWQsXG4gICAgICB1c2VySWQsXG4gICAgICBzZW9TdHJhdGVnaWVzOiBzZW9EYXRhLFxuICAgICAgYXBwcm92ZWQ6IHRydWUsXG4gICAgICBjcmVhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICAgIHVwZGF0ZWRBdDogVGltZXN0YW1wLm5vdygpXG4gICAgfSk7XG4gICAgcmV0dXJuIGRvY1JlZi5pZDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgU0VPIHN0cmF0ZWdpZXM6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vLyBJZGVhJ3lhIGFpdCBNVlAgaW1wbGVtZW50YXRpb25zIGdldGlybWVcbmV4cG9ydCBjb25zdCBnZXRNVlBJbXBsZW1lbnRhdGlvbnMgPSBhc3luYyAoaWRlYUlkKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgY29sbGVjdGlvbihkYiwgJ212cC1pbXBsZW1lbnRhdGlvbnMnKSxcbiAgICAgIHdoZXJlKCdpZGVhSWQnLCAnPT0nLCBpZGVhSWQpLFxuICAgICAgd2hlcmUoJ2FwcHJvdmVkJywgJz09JywgdHJ1ZSlcbiAgICApO1xuICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpO1xuICAgIHJldHVybiBxdWVyeVNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xuICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgIC4uLmRvYy5kYXRhKClcbiAgICB9KSkuc29ydCgoYSwgYikgPT4ge1xuICAgICAgY29uc3QgYVRpbWUgPSBhLmNyZWF0ZWRBdD8uc2Vjb25kcyB8fCAwO1xuICAgICAgY29uc3QgYlRpbWUgPSBiLmNyZWF0ZWRBdD8uc2Vjb25kcyB8fCAwO1xuICAgICAgcmV0dXJuIGJUaW1lIC0gYVRpbWU7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBNVlAgaW1wbGVtZW50YXRpb25zOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8gSWRlYSd5YSBhaXQgY29udGVudCBpZGVhcyBnZXRpcm1lXG5leHBvcnQgY29uc3QgZ2V0Q29udGVudElkZWFzID0gYXN5bmMgKGlkZWFJZCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgIGNvbGxlY3Rpb24oZGIsICdjb250ZW50LWlkZWFzJyksXG4gICAgICB3aGVyZSgnaWRlYUlkJywgJz09JywgaWRlYUlkKSxcbiAgICAgIHdoZXJlKCdhcHByb3ZlZCcsICc9PScsIHRydWUpXG4gICAgKTtcbiAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICByZXR1cm4gcXVlcnlTbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcbiAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAuLi5kb2MuZGF0YSgpXG4gICAgfSkpLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIGNvbnN0IGFUaW1lID0gYS5jcmVhdGVkQXQ/LnNlY29uZHMgfHwgMDtcbiAgICAgIGNvbnN0IGJUaW1lID0gYi5jcmVhdGVkQXQ/LnNlY29uZHMgfHwgMDtcbiAgICAgIHJldHVybiBiVGltZSAtIGFUaW1lO1xuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgY29udGVudCBpZGVhczonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIElkZWEneWEgYWl0IFNFTyBzdHJhdGVnaWVzIGdldGlybWVcbmV4cG9ydCBjb25zdCBnZXRTRU9TdHJhdGVnaWVzID0gYXN5bmMgKGlkZWFJZCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHEgPSBxdWVyeShcbiAgICAgIGNvbGxlY3Rpb24oZGIsICdzZW8tc3RyYXRlZ2llcycpLFxuICAgICAgd2hlcmUoJ2lkZWFJZCcsICc9PScsIGlkZWFJZCksXG4gICAgICB3aGVyZSgnYXBwcm92ZWQnLCAnPT0nLCB0cnVlKVxuICAgICk7XG4gICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gICAgcmV0dXJuIHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7XG4gICAgICBpZDogZG9jLmlkLFxuICAgICAgLi4uZG9jLmRhdGEoKVxuICAgIH0pKS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBjb25zdCBhVGltZSA9IGEuY3JlYXRlZEF0Py5zZWNvbmRzIHx8IDA7XG4gICAgICBjb25zdCBiVGltZSA9IGIuY3JlYXRlZEF0Py5zZWNvbmRzIHx8IDA7XG4gICAgICByZXR1cm4gYlRpbWUgLSBhVGltZTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIFNFTyBzdHJhdGVnaWVzOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8gS3VsbGFuxLFtIHNhecSxc8SxbsSxIGtheWRldG1lIChzaW1wbGUgZ2VuZXJhdG9yIGnDp2luKVxuZXhwb3J0IGNvbnN0IHNhdmVVc2FnZUNvdW50ID0gYXN5bmMgKHNlc3Npb25JZCwgY291bnQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsICd1c2FnZS1jb3VudHMnLCBzZXNzaW9uSWQpO1xuICAgIGF3YWl0IHVwZGF0ZURvYyhkb2NSZWYsIHtcbiAgICAgIGNvdW50LFxuICAgICAgbGFzdFVzZWQ6IFRpbWVzdGFtcC5ub3coKVxuICAgIH0pLmNhdGNoKGFzeW5jICgpID0+IHtcbiAgICAgIC8vIEXEn2VyIGRvY3VtZW50IHlva3NhIG9sdcWfdHVyXG4gICAgICBhd2FpdCBhZGREb2MoY29sbGVjdGlvbihkYiwgJ3VzYWdlLWNvdW50cycpLCB7XG4gICAgICAgIHNlc3Npb25JZCxcbiAgICAgICAgY291bnQsXG4gICAgICAgIGxhc3RVc2VkOiBUaW1lc3RhbXAubm93KCksXG4gICAgICAgIGNyZWF0ZWRBdDogVGltZXN0YW1wLm5vdygpXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgdXNhZ2UgY291bnQ6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vLyBLdWxsYW7EsW0gc2F5xLFzxLFuxLEgZ2V0aXJtZVxuZXhwb3J0IGNvbnN0IGdldFVzYWdlQ291bnQgPSBhc3luYyAoc2Vzc2lvbklkKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgY29sbGVjdGlvbihkYiwgJ3VzYWdlLWNvdW50cycpLFxuICAgICAgd2hlcmUoJ3Nlc3Npb25JZCcsICc9PScsIHNlc3Npb25JZCksXG4gICAgICBsaW1pdCgxKVxuICAgICk7XG4gICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MocSk7XG4gICAgXG4gICAgaWYgKCFxdWVyeVNuYXBzaG90LmVtcHR5KSB7XG4gICAgICByZXR1cm4gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKS5jb3VudCB8fCAwO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHVzYWdlIGNvdW50OicsIGVycm9yKTtcbiAgICByZXR1cm4gMDtcbiAgfVxufTtcblxuLy8gVG9rZW4gc2lzdGVtaSBmb25rc2l5b25sYXLEsVxuXG4vLyBLdWxsYW7EsWPEsW7EsW4gdG9rZW4gYmFraXllc2luaSBnZXRpcm1lXG5leHBvcnQgY29uc3QgZ2V0VXNlclRva2VucyA9IGFzeW5jICh1c2VySWQpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyDDlm5jZSBrdWxsYW7EsWPEsW7EsW4gdG9rZW4nbGFyxLFuxLEgYXJhXG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgY29sbGVjdGlvbihkYiwgJ3VzZXItdG9rZW5zJyksXG4gICAgICB3aGVyZSgndXNlcklkJywgJz09JywgdXNlcklkKSxcbiAgICAgIGxpbWl0KDEpXG4gICAgKTtcbiAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICBcbiAgICBpZiAoIXF1ZXJ5U25hcHNob3QuZW1wdHkpIHtcbiAgICAgIHJldHVybiBxdWVyeVNuYXBzaG90LmRvY3NbMF0uZGF0YSgpLnRva2VucyB8fCAwO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyDEsGxrIGtleiBrdWxsYW7EsWPEsSBpw6dpbiAxMCDDvGNyZXRzaXogdG9rZW4gdmVyXG4gICAgICBhd2FpdCBhZGREb2MoY29sbGVjdGlvbihkYiwgJ3VzZXItdG9rZW5zJyksIHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICB0b2tlbnM6IDEwLFxuICAgICAgICBjcmVhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKSxcbiAgICAgICAgdXBkYXRlZEF0OiBUaW1lc3RhbXAubm93KClcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIDEwO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHVzZXIgdG9rZW5zOicsIGVycm9yKTtcbiAgICByZXR1cm4gMDtcbiAgfVxufTtcblxuLy8gVG9rZW4ga3VsbGFuxLFtxLEgKGTDvMWfw7xybWUpXG5leHBvcnQgY29uc3QgdXNlVG9rZW5zID0gYXN5bmMgKHVzZXJJZCwgYW1vdW50KSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gw5ZuY2Uga3VsbGFuxLFjxLFuxLFuIHRva2VuJ2xhcsSxbsSxIGFsXG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgY29sbGVjdGlvbihkYiwgJ3VzZXItdG9rZW5zJyksXG4gICAgICB3aGVyZSgndXNlcklkJywgJz09JywgdXNlcklkKSxcbiAgICAgIGxpbWl0KDEpXG4gICAgKTtcbiAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICBcbiAgICBpZiAoIXF1ZXJ5U25hcHNob3QuZW1wdHkpIHtcbiAgICAgIGNvbnN0IGRvY1JlZiA9IHF1ZXJ5U25hcHNob3QuZG9jc1swXS5yZWY7XG4gICAgICBjb25zdCBjdXJyZW50VG9rZW5zID0gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKS50b2tlbnMgfHwgMDtcbiAgICAgIFxuICAgICAgaWYgKGN1cnJlbnRUb2tlbnMgPj0gYW1vdW50KSB7XG4gICAgICAgIGF3YWl0IHVwZGF0ZURvYyhkb2NSZWYsIHtcbiAgICAgICAgICB0b2tlbnM6IGN1cnJlbnRUb2tlbnMgLSBhbW91bnQsXG4gICAgICAgICAgdXBkYXRlZEF0OiBUaW1lc3RhbXAubm93KClcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBZZXRlcnNpeiB0b2tlblxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIEt1bGxhbsSxY8SxIGJ1bHVuYW1hZMSxXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVzaW5nIHRva2VuczonLCBlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyBUb2tlbiBla2xlbWUgKHNhdMSxbiBhbG1hIHNvbnJhc8SxKVxuZXhwb3J0IGNvbnN0IGFkZFRva2VucyA9IGFzeW5jICh1c2VySWQsIGFtb3VudCkgPT4ge1xuICB0cnkge1xuICAgIC8vIMOWbmNlIGt1bGxhbsSxY8SxbsSxbiBtZXZjdXQgdG9rZW4nbGFyxLFuxLEgYnVsXG4gICAgY29uc3QgcSA9IHF1ZXJ5KFxuICAgICAgY29sbGVjdGlvbihkYiwgJ3VzZXItdG9rZW5zJyksXG4gICAgICB3aGVyZSgndXNlcklkJywgJz09JywgdXNlcklkKSxcbiAgICAgIGxpbWl0KDEpXG4gICAgKTtcbiAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhxKTtcbiAgICBcbiAgICBpZiAoIXF1ZXJ5U25hcHNob3QuZW1wdHkpIHtcbiAgICAgIGNvbnN0IGRvY1JlZiA9IHF1ZXJ5U25hcHNob3QuZG9jc1swXS5yZWY7XG4gICAgICBjb25zdCBjdXJyZW50VG9rZW5zID0gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKS50b2tlbnMgfHwgMDtcbiAgICAgIGF3YWl0IHVwZGF0ZURvYyhkb2NSZWYsIHtcbiAgICAgICAgdG9rZW5zOiBjdXJyZW50VG9rZW5zICsgYW1vdW50LFxuICAgICAgICB1cGRhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEt1bGxhbsSxY8SxIHlva3NhIHllbmkga2F5xLF0IG9sdcWfdHVyXG4gICAgICBhd2FpdCBhZGREb2MoY29sbGVjdGlvbihkYiwgJ3VzZXItdG9rZW5zJyksIHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICB0b2tlbnM6IGFtb3VudCxcbiAgICAgICAgY3JlYXRlZEF0OiBUaW1lc3RhbXAubm93KCksXG4gICAgICAgIHVwZGF0ZWRBdDogVGltZXN0YW1wLm5vdygpXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWRkaW5nIHRva2VuczonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIFRva2VuIHNhdMSxbiBhbG1hIGdlw6dtacWfaSBrYXlkZXRtZVxuZXhwb3J0IGNvbnN0IHNhdmVUb2tlblB1cmNoYXNlID0gYXN5bmMgKHVzZXJJZCwgcHVyY2hhc2VEYXRhKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgZG9jUmVmID0gYXdhaXQgYWRkRG9jKGNvbGxlY3Rpb24oZGIsICd0b2tlbi1wdXJjaGFzZXMnKSwge1xuICAgICAgdXNlcklkLFxuICAgICAgLi4ucHVyY2hhc2VEYXRhLFxuICAgICAgY3JlYXRlZEF0OiBUaW1lc3RhbXAubm93KClcbiAgICB9KTtcbiAgICByZXR1cm4gZG9jUmVmLmlkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyB0b2tlbiBwdXJjaGFzZTonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07ICJdLCJuYW1lcyI6WyJjb2xsZWN0aW9uIiwiYWRkRG9jIiwiZ2V0RG9jcyIsImRvYyIsImdldERvYyIsInVwZGF0ZURvYyIsImRlbGV0ZURvYyIsInF1ZXJ5Iiwid2hlcmUiLCJvcmRlckJ5IiwibGltaXQiLCJUaW1lc3RhbXAiLCJkYiIsInNhdmVTdGFydHVwSWRlYSIsInVzZXJJZCIsImlkZWFEYXRhIiwiZG9jUmVmIiwiY3JlYXRlZEF0Iiwibm93IiwidXBkYXRlZEF0IiwiaWQiLCJlcnJvciIsImNvbnNvbGUiLCJnZXRVc2VyU3RhcnR1cElkZWFzIiwicSIsInF1ZXJ5U25hcHNob3QiLCJpZGVhcyIsImRvY3MiLCJtYXAiLCJkYXRhIiwic29ydCIsImEiLCJiIiwiYVRpbWUiLCJzZWNvbmRzIiwiYlRpbWUiLCJnZXRTdGFydHVwSWRlYSIsImlkZWFJZCIsImRvY1NuYXAiLCJleGlzdHMiLCJ1cGRhdGVTdGFydHVwSWRlYSIsInVwZGF0ZURhdGEiLCJkZWxldGVTdGFydHVwSWRlYSIsInNhdmVNVlBJbXBsZW1lbnRhdGlvbiIsIm12cERhdGEiLCJtdnBJbXBsZW1lbnRhdGlvbnMiLCJhcHByb3ZlZCIsInNhdmVDb250ZW50SWRlYXMiLCJjb250ZW50RGF0YSIsImNvbnRlbnRJZGVhcyIsInNhdmVTRU9TdHJhdGVnaWVzIiwic2VvRGF0YSIsInNlb1N0cmF0ZWdpZXMiLCJnZXRNVlBJbXBsZW1lbnRhdGlvbnMiLCJnZXRDb250ZW50SWRlYXMiLCJnZXRTRU9TdHJhdGVnaWVzIiwic2F2ZVVzYWdlQ291bnQiLCJzZXNzaW9uSWQiLCJjb3VudCIsImxhc3RVc2VkIiwiY2F0Y2giLCJnZXRVc2FnZUNvdW50IiwiZW1wdHkiLCJnZXRVc2VyVG9rZW5zIiwidG9rZW5zIiwidXNlVG9rZW5zIiwiYW1vdW50IiwicmVmIiwiY3VycmVudFRva2VucyIsImFkZFRva2VucyIsInNhdmVUb2tlblB1cmNoYXNlIiwicHVyY2hhc2VEYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/database.js\n");

/***/ }),

/***/ "(api)/./lib/firebase.js":
/*!*************************!*\
  !*** ./lib/firebase.js ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__]);\n([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n// Firebase configuration - Bu bilgileri Firebase Console'dan alacaksın\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDbS5lRGBW2p6h_Egv7xzKAqUGV-7G5Rrg\",\n    authDomain: \"startup-idea-generator-afc46.firebaseapp.com\",\n    projectId: \"startup-idea-generator-afc46\",\n    storageBucket: \"startup-idea-generator-afc46.firebasestorage.app\",\n    messagingSenderId: \"935620031114\",\n    appId: \"1:935620031114:web:df36483768d05672ca3373\"\n};\n// Firebase'i initialize et\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\n// Firestore database'i export et\nconst db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(app);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZmlyZWJhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE2QztBQUNLO0FBRWxELHVFQUF1RTtBQUN2RSxNQUFNRSxpQkFBaUI7SUFDckJDLFFBQVFDLHlDQUF3QztJQUNoREcsWUFBWUgsOENBQTRDO0lBQ3hESyxXQUFXTCw4QkFBMkM7SUFDdERPLGVBQWVQLGtEQUErQztJQUM5RFMsbUJBQW1CVCxjQUFvRDtJQUN2RVcsT0FBT1gsMkNBQXVDO0FBQ2hEO0FBRUEsMkJBQTJCO0FBQzNCLE1BQU1hLE1BQU1qQiwyREFBYUEsQ0FBQ0U7QUFFMUIsaUNBQWlDO0FBQzFCLE1BQU1nQixLQUFLakIsZ0VBQVlBLENBQUNnQixLQUFLO0FBQ3BDLGlFQUFlQSxHQUFHQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RhcnR1cC1pZGVhLWdlbmVyYXRvci8uL2xpYi9maXJlYmFzZS5qcz9hYjQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRpYWxpemVBcHAgfSBmcm9tICdmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcblxuLy8gRmlyZWJhc2UgY29uZmlndXJhdGlvbiAtIEJ1IGJpbGdpbGVyaSBGaXJlYmFzZSBDb25zb2xlJ2RhbiBhbGFjYWtzxLFuXG5jb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BUElfS0VZLFxuICBhdXRoRG9tYWluOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTixcbiAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9QUk9KRUNUX0lELFxuICBzdG9yYWdlQnVja2V0OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVCxcbiAgbWVzc2FnaW5nU2VuZGVySWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX01FU1NBR0lOR19TRU5ERVJfSUQsXG4gIGFwcElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSURcbn07XG5cbi8vIEZpcmViYXNlJ2kgaW5pdGlhbGl6ZSBldFxuY29uc3QgYXBwID0gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XG5cbi8vIEZpcmVzdG9yZSBkYXRhYmFzZSdpIGV4cG9ydCBldFxuZXhwb3J0IGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGFwcCk7XG5leHBvcnQgZGVmYXVsdCBhcHA7ICJdLCJuYW1lcyI6WyJpbml0aWFsaXplQXBwIiwiZ2V0RmlyZXN0b3JlIiwiZmlyZWJhc2VDb25maWciLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWSIsImF1dGhEb21haW4iLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTiIsInByb2plY3RJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX1BST0pFQ1RfSUQiLCJzdG9yYWdlQnVja2V0IiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX01FU1NBR0lOR19TRU5ERVJfSUQiLCJhcHBJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRCIsImFwcCIsImRiIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/firebase.js\n");

/***/ }),

/***/ "(api)/./pages/api/get-my-ideas.js":
/*!***********************************!*\
  !*** ./pages/api/get-my-ideas.js ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @clerk/nextjs/server */ \"@clerk/nextjs/server\");\n/* harmony import */ var _clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/database */ \"(api)/./lib/database.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_database__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_database__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    // Check if user is authenticated\n    const { userId } = (0,_clerk_nextjs_server__WEBPACK_IMPORTED_MODULE_0__.getAuth)(req);\n    if (!userId) {\n        return res.status(401).json({\n            error: \"Unauthorized\"\n        });\n    }\n    try {\n        const ideas = await (0,_lib_database__WEBPACK_IMPORTED_MODULE_1__.getUserStartupIdeas)(userId);\n        res.status(200).json(ideas);\n    } catch (error) {\n        console.error(\"Error getting user ideas:\", error);\n        res.status(500).json({\n            error: \"Failed to get ideas\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZ2V0LW15LWlkZWFzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBK0M7QUFDVTtBQUUxQyxlQUFlRSxRQUFRQyxHQUFHLEVBQUVDLEdBQUc7SUFDNUMsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLE9BQU87UUFDeEIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXFCO0lBQzVEO0lBRUEsaUNBQWlDO0lBQ2pDLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdULDZEQUFPQSxDQUFDRztJQUMzQixJQUFJLENBQUNNLFFBQVE7UUFDWCxPQUFPTCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBZTtJQUN0RDtJQUVBLElBQUk7UUFDRixNQUFNRSxRQUFRLE1BQU1ULGtFQUFtQkEsQ0FBQ1E7UUFDeENMLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNHO0lBQ3ZCLEVBQUUsT0FBT0YsT0FBTztRQUNkRyxRQUFRSCxLQUFLLENBQUMsNkJBQTZCQTtRQUMzQ0osSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXNCO0lBQ3REO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGFydHVwLWlkZWEtZ2VuZXJhdG9yLy4vcGFnZXMvYXBpL2dldC1teS1pZGVhcy5qcz9lY2ViIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEF1dGggfSBmcm9tICdAY2xlcmsvbmV4dGpzL3NlcnZlcic7XG5pbXBvcnQgeyBnZXRVc2VyU3RhcnR1cElkZWFzIH0gZnJvbSAnLi4vLi4vbGliL2RhdGFiYXNlJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ0dFVCcpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIH1cblxuICAvLyBDaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgY29uc3QgeyB1c2VySWQgfSA9IGdldEF1dGgocmVxKTtcbiAgaWYgKCF1c2VySWQpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGlkZWFzID0gYXdhaXQgZ2V0VXNlclN0YXJ0dXBJZGVhcyh1c2VySWQpO1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGlkZWFzKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHVzZXIgaWRlYXM6JywgZXJyb3IpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZ2V0IGlkZWFzJyB9KTtcbiAgfVxufSAiXSwibmFtZXMiOlsiZ2V0QXV0aCIsImdldFVzZXJTdGFydHVwSWRlYXMiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwidXNlcklkIiwiaWRlYXMiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/get-my-ideas.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-my-ideas&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-my-ideas.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();